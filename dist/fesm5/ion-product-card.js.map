{"version":3,"file":"ion-product-card.js.map","sources":["ng://ion-product-card/lib/options/ion-product-card-options.component.ts","ng://ion-product-card/lib/options/ion-product-card-options.module.ts","ng://ion-product-card/lib/ion-product-card.component.ts","ng://ion-product-card/lib/ion-product-card.module.ts"],"sourcesContent":["/**\n * @license MIT\n * @version 1.1.0\n * @author Leonardo Quevedo\n * @description Product options component.\n */\n\nimport { ChangeDetectorRef, Component, EventEmitter, ChangeDetectionStrategy } from '@angular/core'\n\nimport { ViewController } from 'ionic-angular'\nimport { NavParams } from 'ionic-angular'\n\n@Component({\n    templateUrl: 'ion-product-card-options.component.html',\n    changeDetection: ChangeDetectionStrategy.Default,\n})\n\nexport class IonProductCardOptionsMenu {\n    product: any\n    options: any\n    events: any\n\n    constructor(public viewCtrl: ViewController,\n        public navParams: NavParams,\n        public changeDetector: ChangeDetectorRef) {\n        this.product = navParams.data.product\n        this.options = navParams.data.options\n        this.events = navParams.data.events\n    }\n\n    isDeleted() {\n        return this.product && this.product.information && this.product.information.deleted\n    }\n\n    emit(event: string) {\n        return this.events[event].emit(this.product)\n    }\n\n    hasListeners(event: EventEmitter<any>) {\n        return this.events && event && event.observers.length > 0\n    }\n\n    close(data?: any) {\n        this.viewCtrl.dismiss(data)\n    }\n}","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { IonProductCardOptionsMenu } from './ion-product-card-options.component'\n\n@NgModule({\n    imports: [CommonModule, IonicModule, TranslateModule],\n    entryComponents:[IonProductCardOptionsMenu],\n    declarations: [IonProductCardOptionsMenu],\n    exports: [IonProductCardOptionsMenu]\n})\nexport class IonProductCardOptionsModule { }","/**\r\n * @license MIT\r\n * @version 1.1.0\r\n * @author Leonardo Quevedo\r\n * @description Product component.\r\n */\r\n\r\nimport { Component, ViewEncapsulation } from '@angular/core'\r\nimport { Input, Output } from '@angular/core'\r\nimport { EventEmitter } from '@angular/core'\r\nimport { NgZone } from '@angular/core'\r\nimport { ChangeDetectorRef } from '@angular/core'\r\nimport { PopoverController } from 'ionic-angular'\r\n\r\nimport { IonProductCardOptionsMenu } from './options/ion-product-card-options.component'\r\n\r\n@Component({\r\n    selector: 'ion-product-card',\r\n    templateUrl: 'ion-product-card.component.html',\r\n    styleUrls: ['ion-product-card.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class IonProductCardComponent {\r\n\r\n    CURRENCY_OPTIONS = { prefix: 'R$ ', thousands: '.', decimal: ',' }\r\n\r\n    @Input('product') product: any\r\n    @Input('options') options: any\r\n\r\n\r\n    @Output() add: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() save: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() view: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() edit: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() remove: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() deactivate: EventEmitter<any> = new EventEmitter()\r\n    @Output() activate: EventEmitter<any> = new EventEmitter()\r\n\r\n    @Output() increment: EventEmitter<any> = new EventEmitter()\r\n    @Output() decrement: EventEmitter<any> = new EventEmitter()\r\n\r\n    @Output() blur: EventEmitter<any> = new EventEmitter()\r\n\r\n    constructor(public zone: NgZone,\r\n        public changeDetector: ChangeDetectorRef,\r\n        public popoverCtrl: PopoverController) { }\r\n\r\n    ngOnInit() {\r\n        this.changeDetector.detectChanges()\r\n        this.options = this.options || {}\r\n        if (this.options.transform) {\r\n            this.product = this.options.transform(this.product)\r\n        }\r\n    }\r\n\r\n    formatPrice(price) {\r\n        price = parseFloat(price)\r\n        return price && price.toFixed ? (price.toFixed(2).split('.')[0]).concat(',').concat(price.toFixed(2).split('.')[1]) : ''\r\n    }\r\n\r\n    showItemLeft() {\r\n        return (this.options.showDiscountTag && this.product.discountPrice) || this.options.showPicture\r\n    }\r\n\r\n    getQuantityFor(product: any) {\r\n        if (!product.quantity) return 'Adicionar'\r\n        else return product.quantity + ' ' + (product.quantity && product.quantity == 1 ? 'Un.' : 'Un.')\r\n    }\r\n\r\n    showQuantityButtons() {\r\n        return (this.options.showDecreaseButton ? this.options.showDecreaseButton(this.product) : (this.decrement.observers.length > 0)) || (this.options.showIncreaseButton ? this.options.showIncreaseButton(this.product) : (this.increment.observers.length > 0))\r\n    }\r\n\r\n    showInventoryOptions() {\r\n        return this.remove.observers.length > 0 || this.add.observers.length > 0 || this.save.observers.length > 0\r\n    }\r\n\r\n    showCatalogueOptions() {\r\n        return this.edit.observers.length > 0 || this.activate.observers.length > 0 || this.deactivate.observers.length > 0\r\n    }\r\n\r\n    isDeleted() {\r\n        return this.product && this.product.information && this.product.information.deleted\r\n    }\r\n\r\n    showOptionsFor($event, product) {\r\n        let popover = this.popoverCtrl.create(IonProductCardOptionsMenu, {\r\n            product: product,\r\n            options: this.options,\r\n            events: {\r\n                add: this.add,\r\n                save: this.save,\r\n                edit: this.edit,\r\n                deactivate: this.deactivate,\r\n                activate: this.activate\r\n            }\r\n        })\r\n        popover.present({ ev: $event })\r\n        popover.onDidDismiss((data) => { })\r\n    }\r\n}\r\n","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { CurrencyMaskModule } from \"ngx-currency-mask\"\nimport { IonProductCardComponent } from './ion-product-card.component'\nimport { IonProductCardOptionsModule } from './options/ion-product-card-options.module'\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule,\n        CurrencyMaskModule,\n        IonProductCardOptionsModule\n    ],\n    declarations: [IonProductCardComponent],\n    exports: [IonProductCardComponent]\n})\nexport class IonProductCardModule { }"],"names":[],"mappings":"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"}
