!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@angular/common"),require("ionic-angular"),require("@ngx-translate/core"),require("ngx-currency")):"function"==typeof define&&define.amd?define("ion-product-card",["exports","@angular/core","@angular/common","ionic-angular","@ngx-translate/core","ngx-currency"],o):o(t["ion-product-card"]={},t.ng.core,t.ng.common,t.ionicAngular,t.ngxTranslate,t.ngxCurrency)}(this,function(t,e,o,n,r,i){"use strict";var c=function(){function t(t,o,n){this.viewCtrl=t,this.navParams=o,this.changeDetector=n,this.product=o.data.product,this.options=o.data.options,this.events=o.data.events}return t.prototype.isDeleted=function(){return this.product&&this.product.information&&this.product.information.deleted},t.prototype.emit=function(t){return this.events[t].emit(this.product)},t.prototype.hasListeners=function(t){return this.events&&t&&0<t.observers.length},t.prototype.close=function(t){this.viewCtrl.dismiss(t)},t.decorators=[{type:e.Component,args:[{template:'<button ion-item popover-item *ngIf="hasListeners(events.edit)" (click)="emit(\'edit\'); close();" [disabled]="product.showSpinner">\n    <span translate="edit"></span>\n</button>\n<button ion-item popover-item *ngIf="!isDeleted() && hasListeners(events.deactivate)" (click)="emit(\'deactivate\'); close();" [disabled]="product.showSpinner">\n    <span translate="deactivate"></span>\n</button>\n<button ion-item popover-item *ngIf="isDeleted() && hasListeners(events.activate)" (click)="emit(\'activate\'); close();" [disabled]="product.showSpinner">\n    <span translate="activate"></span>\n</button>',changeDetection:e.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:n.ViewController},{type:n.NavParams},{type:e.ChangeDetectorRef}]},t}(),p=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,n.IonicModule,r.TranslateModule],entryComponents:[c],declarations:[c],exports:[c]}]}],t}(),d=function(){function t(t,o,n){this.zone=t,this.changeDetector=o,this.popoverCtrl=n,this.CURRENCY_OPTIONS={prefix:"R$ ",thousands:".",decimal:",",nullable:!0},this.add=new e.EventEmitter,this.save=new e.EventEmitter,this.view=new e.EventEmitter,this.edit=new e.EventEmitter,this.remove=new e.EventEmitter,this.deactivate=new e.EventEmitter,this.activate=new e.EventEmitter,this.increment=new e.EventEmitter,this.decrement=new e.EventEmitter,this.blur=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.changeDetector.detectChanges(),this.options=this.options||{},this.options.transform&&(this.product=this.options.transform(this.product)),!this.product||0<this.product.price||delete this.product.price},t.prototype.showItemLeft=function(){return this.options.showDiscountTag&&this.product.discountPrice||this.options.showPicture},t.prototype.getQuantityFor=function(t){return t.quantity?t.quantity+" "+(t.quantity&&t.quantity,"Un."):"Adicionar"},t.prototype.showQuantityButtons=function(){return(this.options.showDecreaseButton?this.options.showDecreaseButton(this.product):0<this.decrement.observers.length)||(this.options.showIncreaseButton?this.options.showIncreaseButton(this.product):0<this.increment.observers.length)},t.prototype.showInventoryOptions=function(){return 0<this.remove.observers.length||0<this.add.observers.length||0<this.save.observers.length},t.prototype.showCatalogueOptions=function(){return 0<this.edit.observers.length||0<this.activate.observers.length||0<this.deactivate.observers.length},t.prototype.isDeleted=function(){return this.product&&this.product.information&&this.product.information.deleted},t.prototype.showOptionsFor=function(t,o){var n=this.popoverCtrl.create(c,{product:o,options:this.options,events:{add:this.add,save:this.save,edit:this.edit,deactivate:this.deactivate,activate:this.activate}});n.present({ev:t}),n.onDidDismiss(function(t){})},t.decorators=[{type:e.Component,args:[{selector:"ion-product-card",template:'<ion-card product *ngIf="product && product.information" [ngClass]="{ \'deleted\': isDeleted(), \'show-image\': options.showPicture, \'discount-product\' : product.discountPrice }">\r\n    <ion-card-header product-header color="secondary" *ngIf="options.showPicture" (click)="view.emit(product)">\r\n        <section product-name>\r\n            <p discount-tag *ngIf="options.showDiscountTag && product.discountPrice">\r\n                <span translate="promotion"></span>\r\n            </p>\r\n            {{ product.information.name }}\r\n            <br/>\r\n            <section *ngIf="options.showProductQuantity">({{product.quantity}}x)</section>\r\n        </section>\r\n        <ion-spinner product-spinner *ngIf="product.loading"></ion-spinner>\r\n    </ion-card-header>\r\n    <ion-card-content no-padding>\r\n        <ion-item text-center no-padding>\r\n            <article item-left product-picture (click)="view.emit(product)">\r\n                <img [src]="product.picture" />\r\n            </article>\r\n            <form>\r\n                <p text-color="almost-white" deleted-tag *ngIf="isDeleted()">\r\n                    Status:\r\n                    <span translate="deactivated"></span>\r\n                </p>\r\n                <p product-info product-price discount *ngIf="options.showDiscountPrice && product.discountPrice">\r\n                    <span prefix translate="by" *ngIf="product.discountPrice"></span>:\r\n                    <span price-value>{{ product.discountPrice | currency : \'BRL\' }}</span>\r\n                </p>\r\n                <p product-info product-price *ngIf="options.showPrice && product.price">\r\n                    <span prefix *ngIf="product.discountPrice">\r\n                        <span translate="from"></span>:\r\n                    </span>\r\n                    <span price-value>{{ product.price | currency : \'BRL\' }}</span>\r\n                </p>\r\n                <ion-row>\r\n                    <section col [attr.col-6]="options.showStockInput" *ngIf="options.showPriceInput" price-input>\r\n                        <input name="price" autocomplete="off" autocorrect="off" padding-input type="tel" placeholder="Preço" [(ngModel)]="product.price"\r\n                            currencyMask [options]="CURRENCY_OPTIONS">\r\n                    </section>\r\n                    <section col col-6 *ngIf="options.showStockInput" stock-input>\r\n                        <input name="stock" autocomplete="off" autocorrect="off" padding-input type="tel" [placeholder]="\'Estoque (ex: 100)\'" [(ngModel)]="product.stock">\r\n                        <label text-color="almost-white">\r\n                            <span translate="unities"></span>\r\n                        </label>\r\n                    </section>\r\n                </ion-row>\r\n                <section *ngIf="options.showDiscountPriceInput" price-input discount-price-input>\r\n                    <span prefix>\r\n                        <span translate="by"></span>:\r\n                    </span>\r\n                    <input name="discount_price" type="tel" [placeholder]="00.00 | currency : \'BRL\'" [(ngModel)]="product.discountPrice" currencyMask\r\n                        [options]="CURRENCY_OPTIONS">\r\n                </section>\r\n            </form>\r\n            <section item-right *ngIf="showQuantityButtons()">\r\n                <div no-padding cart-options>\r\n                    <button ion-button color="danger" quantity-button *ngIf="decrement.observers.length > 0" (click)="decrement.emit(product)"\r\n                        [disabled]="product.loading || !product.quantity || !(product.quantity > 0)">\r\n                        <ion-icon name="la-minus"></ion-icon>\r\n                    </button>\r\n                    <ion-icon cart-icon name="la-shopping-cart"></ion-icon>\r\n                    <button ion-button color="balanced" quantity-button *ngIf="increment.observers.length > 0" (click)="increment.emit(product)"\r\n                        [disabled]="product.loading">\r\n                        <ion-icon name="la-plus"></ion-icon>\r\n                    </button>\r\n                    <p>{{ getQuantityFor(product) }}</p>\r\n                </div>\r\n            </section>\r\n            <section *ngIf="showInventoryOptions()" inventory-options float-right>\r\n                <button type="submit" ion-button round icon unicode color="balanced" *ngIf="save.observers.length > 0" (click)="save.emit(product)"\r\n                    [disabled]="product.loading || !product.price || (product.discountPrice ? product.price < product.discountPrice : false)">\r\n                    <ion-icon name="la-check"></ion-icon>\r\n                </button>\r\n                <button type="submit" ion-button round icon add-button color="balanced" *ngIf="add.observers.length > 0" (click)="add.emit(product)"\r\n                    [disabled]="product.loading || !product.price || (product.discountPrice ? product.price < product.discountPrice : false)">\r\n                    <ion-icon name="la-check"></ion-icon>\r\n                </button>\r\n                <button type="button" ion-button round icon delete-button remove-button color="danger" *ngIf="remove.observers.length > 0"\r\n                    (click)="remove.emit(product)" [disabled]="product.loading">\r\n                    <ion-icon name="la-trash"></ion-icon>\r\n                </button>\r\n            </section>\r\n            \r\n            <section item-right *ngIf="showCatalogueOptions()">\r\n                <a (click)="showOptionsFor($event, product)" text-color="dark" more-options>\r\n                    <ion-icon name="la-ellipsis-v"></ion-icon>\r\n                </a>\r\n            </section>\r\n            \r\n            <button ion-button clear view-more color="positive" (click)="view.emit(product)" *ngIf="view.observers.length > 0">\r\n                <span translate="view_more"></span>\r\n            </button>\r\n        </ion-item>\r\n    </ion-card-content>\r\n</ion-card>',encapsulation:e.ViewEncapsulation.None,styles:["ion-product-card [product]{background-color:#fff;display:block;margin-bottom:0;min-height:100px;padding:0;height:100%}ion-product-card [product].deleted [deleted-tag],ion-product-card [product].deleted [product-image],ion-product-card [product].deleted [product-name]{opacity:.4}ion-product-card [product] ion-card-header[product-header]{padding-top:1rem;margin-bottom:.5rem}ion-product-card [product] [product-picture] img{margin-left:.5rem;-o-object-fit:contain;object-fit:contain;height:9rem;width:9rem;border-radius:.4rem}ion-product-card [product] ion-label{margin-top:0;margin-bottom:1rem}ion-product-card [product] ion-item.item .item-inner{border-bottom:none}ion-product-card [product] [item-left]{margin-top:0}ion-product-card [product] img[product-image]{height:9rem;width:9rem;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;border-radius:50%;margin-left:1rem;padding:.5rem}ion-product-card [product] [deleted-tag]{font-size:1rem}ion-product-card [product] [product-name]{font-size:1.2rem;white-space:normal;text-align:center;padding:.4rem .4rem 0;display:flex;justify-content:center;align-items:center;font-weight:700;text-transform:uppercase}ion-product-card [product] [product-description],ion-product-card [product] [product-info]{color:#f4f4f4;font-size:1.3rem;margin-top:.5rem;margin-bottom:.5rem}ion-product-card [product] [product-price]{color:#4bc46e;font-size:1.4rem;vertical-align:baseline;text-align:center;margin-bottom:0}ion-product-card [product].discount-product [product-price]{text-decoration:line-through;margin-top:.5rem;font-size:1.2rem}ion-product-card [product].discount-product [product-price][discount]{text-decoration:none;font-size:1.5rem;font-weight:700}ion-product-card [product] [padding-input]{padding-top:1rem;padding-bottom:0}ion-product-card [product] [stock-input] input{width:95%;text-align:center;color:#1e88e5;border-bottom:.2rem solid #efefef;font-size:1rem}ion-product-card [product] [stock-input] label{text-transform:uppercase;display:block;font-size:1rem;opacity:.8;padding-top:.4rem}ion-product-card [product] [price-input]{color:#f4f4f4;text-align:center;display:inline-block}ion-product-card [product] [price-input] input{text-align:center!important;color:#4bc46e;margin:auto -2rem auto auto;max-width:90%;font-size:1.2rem;border-bottom:.2rem solid #ebebeb}ion-product-card [product] [price-input] input:focus{border-bottom-color:#4bc46e}ion-product-card [product] [price-input][discount-price-input]{margin-top:.5rem;margin-bottom:1rem;margin-left:-4.5rem;font-size:1.2rem}ion-product-card [product] [price-input][discount-price-input] [prefix]{color:#888;font-size:1.2rem}ion-product-card [product] [price-input][discount-price-input] input{padding-top:.5rem;color:#f74444;font-size:1.6rem;padding-bottom:.5rem}ion-product-card [product] [price-input][discount-price-input] input:focus{border-bottom-color:#f74444}ion-product-card [product] [inventory-options]{display:inline-block;margin-top:1.5rem}ion-product-card [product] [catalogue-options] button{width:4rem;height:4rem;padding-left:.2rem}ion-product-card [product] [catalogue-options] button ion-icon{font-size:1.6rem}ion-product-card [product] [cart-options] [cart-icon]{color:#bbb;padding-left:0;display:inline-block;vertical-align:middle;margin-top:-1.5rem}ion-product-card [product] [cart-options] [cart-icon]::before{font-size:4.5rem}ion-product-card [product] [cart-options] [quantity-button]{border-radius:50%;width:3rem;height:3rem}ion-product-card [product] [cart-options] [quantity-button] ion-icon{padding-left:0}ion-product-card [product] [cart-options] [quantity-button] ion-icon::before{font-size:1.4rem}ion-product-card [product] [cart-options] p{text-align:center;color:#999;font-size:1.2rem}ion-product-card [product] [more-options]{opacity:1!important}ion-product-card [product] [delete-button]{position:absolute;left:1rem}ion-product-card [product] [view-more]{text-align:center;display:block;margin:auto;padding-top:.8rem;font-size:1.2rem}[product-spinner]{position:absolute;right:2rem;bottom:.5rem;z-index:9999;width:2.2rem}[product-spinner] circle{stroke:#fff!important}@media (min-width:700px){[product]{border-right:1px solid #fafafa}}"]}]}],t.ctorParameters=function(){return[{type:e.NgZone},{type:e.ChangeDetectorRef},{type:n.PopoverController}]},t.propDecorators={product:[{type:e.Input,args:["product"]}],options:[{type:e.Input,args:["options"]}],add:[{type:e.Output}],save:[{type:e.Output}],view:[{type:e.Output}],edit:[{type:e.Output}],remove:[{type:e.Output}],deactivate:[{type:e.Output}],activate:[{type:e.Output}],increment:[{type:e.Output}],decrement:[{type:e.Output}],blur:[{type:e.Output}]},t}(),a=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,n.IonicModule,r.TranslateModule,i.NgxCurrencyModule,p],declarations:[d],exports:[d]}]}],t}();t.IonProductCardOptionsModule=p,t.IonProductCardComponent=d,t.IonProductCardModule=a,t.ɵa=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ion-product-card.umd.min.js.map