{"version":3,"sources":["ng://ion-product-card/lib/options/ion-product-card-options.component.ts","ng://ion-product-card/lib/options/ion-product-card-options.module.ts","ng://ion-product-card/lib/ion-product-card.component.ts","ng://ion-product-card/lib/ion-product-card.module.ts"],"names":["IonProductCardOptionsMenu","viewCtrl","navParams","changeDetector","this","product","data","options","events","prototype","isDeleted","information","deleted","emit","event","hasListeners","observers","length","close","dismiss","Component","args","template","changeDetection","ChangeDetectionStrategy","Default","ViewController","NavParams","ChangeDetectorRef","IonProductCardOptionsModule","NgModule","imports","CommonModule","IonicModule","TranslateModule","declarations","exports","IonProductCardComponent","zone","popoverCtrl","CURRENCY_OPTIONS","prefix","thousands","decimal","add","EventEmitter","save","view","edit","remove","deactivate","activate","increment","decrement","blur","ngOnInit","detectChanges","transform","formatPrice","price","parseFloat","toFixed","split","concat","showItemLeft","showDiscountTag","discountPrice","showPicture","getQuantityFor","quantity","showQuantityButtons","showDecreaseButton","showIncreaseButton","showInventoryOptions","showCatalogueOptions","showOptionsFor","$event","popover","create","present","ev","onDidDismiss","selector","NgZone","PopoverController","Input","Output","IonProductCardModule","CurrencyMaskModule"],"mappings":"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","sourcesContent":["/**\n * @license MIT\n * @version 1.1.0\n * @author Leonardo Quevedo\n * @description Product options component.\n */\n\nimport { ChangeDetectorRef, Component, EventEmitter, ChangeDetectionStrategy } from '@angular/core'\n\nimport { ViewController } from 'ionic-angular'\nimport { NavParams } from 'ionic-angular'\n\n@Component({\n    templateUrl: 'ion-product-card-options.component.html',\n    changeDetection: ChangeDetectionStrategy.Default,\n})\n\nexport class IonProductCardOptionsMenu {\n    product: any\n    options: any\n    events: any\n\n    constructor(public viewCtrl: ViewController,\n        public navParams: NavParams,\n        public changeDetector: ChangeDetectorRef) {\n        this.product = navParams.data.product\n        this.options = navParams.data.options\n        this.events = navParams.data.events\n    }\n\n    isDeleted() {\n        return this.product && this.product.information && this.product.information.deleted\n    }\n\n    emit(event: string) {\n        return this.events[event].emit(this.product)\n    }\n\n    hasListeners(event: EventEmitter<any>) {\n        return this.events && event && event.observers.length > 0\n    }\n\n    close(data?: any) {\n        this.viewCtrl.dismiss(data)\n    }\n}","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { IonProductCardOptionsMenu } from './ion-product-card-options.component'\n\n@NgModule({\n    imports: [CommonModule, IonicModule, TranslateModule],\n    declarations: [IonProductCardOptionsMenu],\n    exports: [IonProductCardOptionsMenu]\n})\nexport class IonProductCardOptionsModule { }","/**\r\n * @license MIT\r\n * @version 1.1.0\r\n * @author Leonardo Quevedo\r\n * @description Product component.\r\n */\r\n\r\nimport { Component } from '@angular/core'\r\nimport { Input, Output } from '@angular/core'\r\nimport { EventEmitter } from '@angular/core'\r\nimport { NgZone } from '@angular/core'\r\nimport { ChangeDetectorRef } from '@angular/core'\r\nimport { PopoverController } from 'ionic-angular'\r\n\r\nimport { IonProductCardOptionsMenu } from './options/ion-product-card-options.component'\r\n\r\n@Component({\r\n    selector: 'ion-product-card',\r\n    templateUrl: 'ion-product-card.component.html',\r\n    styles: [`\r\n        :host ion-item {\r\n            border-bottom: 0px\r\n        }\r\n    `]\r\n})\r\n\r\nexport class IonProductCardComponent {\r\n\r\n    CURRENCY_OPTIONS = { prefix: 'R$ ', thousands: '.', decimal: ',' }\r\n\r\n    @Input('product') product: any\r\n    @Input('options') options: any\r\n\r\n\r\n    @Output() add: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() save: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() view: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() edit: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() remove: EventEmitter<any> = new EventEmitter()\r\n\r\n\r\n    @Output() deactivate: EventEmitter<any> = new EventEmitter()\r\n    @Output() activate: EventEmitter<any> = new EventEmitter()\r\n\r\n    @Output() increment: EventEmitter<any> = new EventEmitter()\r\n    @Output() decrement: EventEmitter<any> = new EventEmitter()\r\n\r\n    @Output() blur: EventEmitter<any> = new EventEmitter()\r\n\r\n    constructor(public zone: NgZone,\r\n        public changeDetector: ChangeDetectorRef,\r\n        public popoverCtrl: PopoverController) { }\r\n\r\n    ngOnInit() {\r\n        this.changeDetector.detectChanges()\r\n        this.options = this.options || {}\r\n        if (this.options.transform) {\r\n            this.product = this.options.transform(this.product)\r\n        }\r\n    }\r\n\r\n    formatPrice(price) {\r\n        price = parseFloat(price)\r\n        return price && price.toFixed ? (price.toFixed(2).split('.')[0]).concat(',').concat(price.toFixed(2).split('.')[1]) : ''\r\n    }\r\n\r\n    showItemLeft() {\r\n        return (this.options.showDiscountTag && this.product.discountPrice) || this.options.showPicture\r\n    }\r\n\r\n    getQuantityFor(product: any) {\r\n        if (!product.quantity) return 'Adicionar'\r\n        else return product.quantity + ' ' + (product.quantity && product.quantity == 1 ? 'Un.' : 'Un.')\r\n    }\r\n\r\n    showQuantityButtons() {\r\n        return (this.options.showDecreaseButton ? this.options.showDecreaseButton(this.product) : (this.decrement.observers.length > 0)) || (this.options.showIncreaseButton ? this.options.showIncreaseButton(this.product) : (this.increment.observers.length > 0))\r\n    }\r\n\r\n    showInventoryOptions() {\r\n        return this.remove.observers.length > 0 || this.add.observers.length > 0 || this.save.observers.length > 0\r\n    }\r\n\r\n    showCatalogueOptions() {\r\n        return this.edit.observers.length > 0 || this.activate.observers.length > 0 || this.deactivate.observers.length > 0\r\n    }\r\n\r\n    isDeleted() {\r\n        return this.product && this.product.information && this.product.information.deleted\r\n    }\r\n\r\n    showOptionsFor($event, product) {\r\n        let popover = this.popoverCtrl.create(IonProductCardOptionsMenu, {\r\n            product: product,\r\n            options: this.options,\r\n            events: {\r\n                add: this.add,\r\n                save: this.save,\r\n                edit: this.edit,\r\n                deactivate: this.deactivate,\r\n                activate: this.activate\r\n            }\r\n        })\r\n        popover.present({ ev: $event })\r\n        popover.onDidDismiss((data) => { })\r\n    }\r\n}\r\n","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { CurrencyMaskModule } from \"ngx-currency-mask\"\nimport { IonProductCardComponent } from './ion-product-card.component'\nimport { IonProductCardOptionsModule } from './options/ion-product-card-options.module'\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule,\n        CurrencyMaskModule,\n        IonProductCardOptionsModule\n    ],\n    declarations: [IonProductCardComponent],\n    exports: [IonProductCardComponent]\n})\nexport class IonProductCardModule { }"]}