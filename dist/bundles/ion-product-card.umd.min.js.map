{"version":3,"sources":["ng://ion-product-card/lib/options/ion-product-card-options.component.ts","ng://ion-product-card/lib/options/ion-product-card-options.module.ts","ng://ion-product-card/lib/ion-product-card.component.ts","ng://ion-product-card/lib/ion-product-card.module.ts"],"names":["IonProductCardOptionsMenu","viewCtrl","navParams","changeDetector","this","product","data","options","events","prototype","isDeleted","information","deleted","emit","event","hasListeners","observers","length","close","dismiss","Component","args","template","changeDetection","ChangeDetectionStrategy","Default","ViewController","NavParams","ChangeDetectorRef","IonProductCardOptionsModule","NgModule","imports","CommonModule","IonicModule","TranslateModule","entryComponents","declarations","exports","IonProductCardComponent","zone","popoverCtrl","CURRENCY_OPTIONS","prefix","thousands","decimal","nullable","add","EventEmitter","save","view","edit","remove","deactivate","activate","increment","decrement","blur","ngOnInit","detectChanges","transform","price","showItemLeft","showDiscountTag","discountPrice","showPicture","getQuantityFor","quantity","showQuantityButtons","showDecreaseButton","showIncreaseButton","showInventoryOptions","showCatalogueOptions","showOptionsFor","$event","popover","create","present","ev","onDidDismiss","selector","encapsulation","ViewEncapsulation","None","NgZone","PopoverController","Input","Output","IonProductCardModule","NgxCurrencyModule"],"mappings":"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","sourcesContent":["/**\n * @license MIT\n * @version 1.1.0\n * @author Leonardo Quevedo\n * @description Product options component.\n */\n\nimport { ChangeDetectorRef, Component, EventEmitter, ChangeDetectionStrategy } from '@angular/core'\n\nimport { ViewController } from 'ionic-angular'\nimport { NavParams } from 'ionic-angular'\n\n@Component({\n    templateUrl: 'ion-product-card-options.component.html',\n    changeDetection: ChangeDetectionStrategy.Default,\n})\n\nexport class IonProductCardOptionsMenu {\n    product: any\n    options: any\n    events: any\n\n    constructor(public viewCtrl: ViewController,\n        public navParams: NavParams,\n        public changeDetector: ChangeDetectorRef) {\n        this.product = navParams.data.product\n        this.options = navParams.data.options\n        this.events = navParams.data.events\n    }\n\n    isDeleted() {\n        return this.product && this.product.information && this.product.information.deleted\n    }\n\n    emit(event: string) {\n        return this.events[event].emit(this.product)\n    }\n\n    hasListeners(event: EventEmitter<any>) {\n        return this.events && event && event.observers.length > 0\n    }\n\n    close(data?: any) {\n        this.viewCtrl.dismiss(data)\n    }\n}","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { IonProductCardOptionsMenu } from './ion-product-card-options.component'\n\n@NgModule({\n    imports: [CommonModule, IonicModule, TranslateModule],\n    entryComponents:[IonProductCardOptionsMenu],\n    declarations: [IonProductCardOptionsMenu],\n    exports: [IonProductCardOptionsMenu]\n})\nexport class IonProductCardOptionsModule { }","/**\r\n * @license MIT\r\n * @version 1.1.0\r\n * @author Leonardo Quevedo\r\n * @description Product component.\r\n */\r\n\r\nimport { Component, ViewEncapsulation } from \"@angular/core\";\r\nimport { Input, Output } from \"@angular/core\";\r\nimport { EventEmitter } from \"@angular/core\";\r\nimport { NgZone } from \"@angular/core\";\r\nimport { ChangeDetectorRef } from \"@angular/core\";\r\nimport { PopoverController } from \"ionic-angular\";\r\n\r\nimport { IonProductCardOptionsMenu } from \"./options/ion-product-card-options.component\";\r\n\r\n@Component({\r\n  selector: \"ion-product-card\",\r\n  templateUrl: \"ion-product-card.component.html\",\r\n  styleUrls: [\"ion-product-card.component.scss\"],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class IonProductCardComponent {\r\n  CURRENCY_OPTIONS = { prefix: \"R$ \", thousands: \".\", decimal: \",\", nullable: true };\r\n\r\n  @Input(\"product\") product: any;\r\n  @Input(\"options\") options: any;\r\n\r\n  @Output() add: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() save: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() view: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() edit: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() remove: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() deactivate: EventEmitter<any> = new EventEmitter();\r\n  @Output() activate: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() increment: EventEmitter<any> = new EventEmitter();\r\n  @Output() decrement: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output() blur: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(\r\n    public zone: NgZone,\r\n    public changeDetector: ChangeDetectorRef,\r\n    public popoverCtrl: PopoverController\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.changeDetector.detectChanges();\r\n    this.options = this.options || {};\r\n    if (this.options.transform) {\r\n      this.product = this.options.transform(this.product);\r\n    }\r\n    if (this.product && !(this.product.price > 0)) delete this.product.price;\r\n  }\r\n\r\n  showItemLeft() {\r\n    return (\r\n      (this.options.showDiscountTag && this.product.discountPrice) ||\r\n      this.options.showPicture\r\n    );\r\n  }\r\n\r\n  getQuantityFor(product: any) {\r\n    if (!product.quantity) return \"Adicionar\";\r\n    else\r\n      return (\r\n        product.quantity +\r\n        \" \" +\r\n        (product.quantity && product.quantity == 1 ? \"Un.\" : \"Un.\")\r\n      );\r\n  }\r\n\r\n  showQuantityButtons() {\r\n    return (\r\n      (this.options.showDecreaseButton\r\n        ? this.options.showDecreaseButton(this.product)\r\n        : this.decrement.observers.length > 0) ||\r\n      (this.options.showIncreaseButton\r\n        ? this.options.showIncreaseButton(this.product)\r\n        : this.increment.observers.length > 0)\r\n    );\r\n  }\r\n\r\n  showInventoryOptions() {\r\n    return (\r\n      this.remove.observers.length > 0 ||\r\n      this.add.observers.length > 0 ||\r\n      this.save.observers.length > 0\r\n    );\r\n  }\r\n\r\n  showCatalogueOptions() {\r\n    return (\r\n      this.edit.observers.length > 0 ||\r\n      this.activate.observers.length > 0 ||\r\n      this.deactivate.observers.length > 0\r\n    );\r\n  }\r\n\r\n  isDeleted() {\r\n    return (\r\n      this.product &&\r\n      this.product.information &&\r\n      this.product.information.deleted\r\n    );\r\n  }\r\n\r\n  showOptionsFor($event, product) {\r\n    let popover = this.popoverCtrl.create(IonProductCardOptionsMenu, {\r\n      product: product,\r\n      options: this.options,\r\n      events: {\r\n        add: this.add,\r\n        save: this.save,\r\n        edit: this.edit,\r\n        deactivate: this.deactivate,\r\n        activate: this.activate\r\n      }\r\n    });\r\n    popover.present({ ev: $event });\r\n    popover.onDidDismiss(data => {});\r\n  }\r\n}\r\n","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Component module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { IonicModule } from 'ionic-angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { NgxCurrencyModule } from \"ngx-currency\"\nimport { IonProductCardComponent } from './ion-product-card.component'\nimport { IonProductCardOptionsModule } from './options/ion-product-card-options.module'\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule,\n        NgxCurrencyModule,\n        IonProductCardOptionsModule\n    ],\n    declarations: [IonProductCardComponent],\n    exports: [IonProductCardComponent]\n})\nexport class IonProductCardModule { }"]}